<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui">

<ui:composition template="/WEB-INF/plantillas/plantillaLogin.xhtml">	
    <ui:define name="contenido">              
        
            
    <div class="container">

		<center>
			<table>
				<tr>
					<td><p:graphicImage value="/resources/images/logos/cabecera_adm.png" height="70px" width="701px" /></td>
				</tr>
			</table>
		</center>
		
		<section class="main" style="background-image: url('resources/images/principal/sunafilito.png') !important;">
		<h2 style="font-family: 'Lato', Calibri, Arial, sans-serif;font-size: 20px;padding-top:40px;" align="center">Iniciar sesi&oacute;n</h2>
			<!-- <form class="form-1" action="login" method="post"> -->
			<h:form id="formLogin" styleClass="form-1">
				<p:focus for="idUsuario"/>
				<p class="field">
					<!-- <input type="text" name="login" placeholder="Usuario"> -->
					<p:inputText id="idUsuario" 
                                     value="#{loginBean.usuario.v_usuario}"
                                     placeholder="Usuario"
                                     required="true"
                                     requiredMessage="Ingrese usuario" />
					<i class="icon-user icon-large"></i>
				</p>
					<p class="field">
						<!-- <input type="password" name="password" placeholder="Clave"> -->
						<p:password id="idPassword"
                                    value="#{loginBean.usuario.v_contrasena}"
                                    placeholder="Clave"
                                    required="true"
                                    requiredMessage="Ingrese contraseÃ±a"/>
						<i class="icon-lock icon-large"></i>
				</p>
				<p class="submit">
					<!-- <button type="submit" name="submit" onclick="javascript:fn_ingresar();"><i class="icon-arrow-right icon-large"></i></button> -->
					<p:commandButton id="btnIngresar2"
                                     process="@this :formLogin"                                                                   
                                     action="#{loginBean.Login}"   
                                     update=":formLogin:idUsuario,:formLogin:idPassword, :formLogin:mensajes" icon="icon-arrow-right icon-large" styleClass="icon-arrow-right icon-large">
					</p:commandButton>
				</p>
				
				<p:messages id="mensajes"/>
				<p:commandButton id="btnIngresar"
                                     value="Ingresar"
                                     process="@this :formLogin"                                                                   
                                     action="#{loginBean.Login}"   
                                     update=":formLogin:idUsuario,:formLogin:idPassword, :formLogin:mensajes"                                   
                                     icon="icon-key" rendered="false"/>
                <p:ajaxStatus onstart="statusDialog.show();" onsuccess="statusDialog.hide();"/>                     
			<!-- </form> -->
			</h:form>
			<script type="text/javascript">  
	        //<![CDATA[
	        	function fn_ingresar(){
	        		document.getElementById("formLogin:btnIngresar").click();	        		
	    	    }		        	
	  		//]]>
			</script>
		</section>
	</div>            
            
            
            
            
				
          
              
        
        <script type="text/javascript">  
        //<![CDATA[
    		function loginRequest(xhr, status, args) {  
        		if(!args.validationFailed && args.loggedIn) {  
            		 
            		 setTimeout(function() {
            		        window.location = args.view;
            		      }, 500);
        		}  
   			 }
    		$("input[type='text']" ).prop( "placeholder", "Usuario" );		
        	$("input[type='text']" ).attr( "placeholder", "Usuario" );  
        	$("input[type='password']" ).prop( "placeholder", "Clave" );		
        	$("input[type='password']" ).attr( "placeholder", "Clave" );
  			 //]]>
		</script> 
    </ui:define>
</ui:composition>
</html>